<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Upload-First Workflow Prototype</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="shortcut icon" href="../images/twdh.ico" />
    <link href="../css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
  </head>
  <body>
    <div class="header">
      <h1><a href="../index.html">TWDH Prototypes</a></h1>
      <h2><a href="./index.html"><i class="fa fa-arrow-circle-right" aria-hidden="true"></i> Upload-First Dataset Workflow</a></h2>
    </div>
    <div class="wrapper">
      <div class="row">
        <div class="col col-md-3 sidebar">
          <h3><i class="fa fa-circle" aria-hidden="true"></i> What are resources?</h3>
          <p>The Texas Water Data Hub defines resources as:</p>
          <ul>
            <li>datasets (such as an API or files)</li>
            <li>applications (such as viewers or interactive maps)</li>
            <li>materials that may supplement or add context to water data (such as images, non-water boundaries, or documents)</li>
          </ul>
          <p>Resources are combined with a description and other information at a fixed URL and are what users see when searching in the hub.</p>
          <h3><i class="fa fa-circle" aria-hidden="true"></i> What are collaborators and roles?</h3>
          <p>Collaborators may be assigned at the resource level to give permissions to other users to help manage a resource. </p>
          <p>For example, an organizationâ€™s admin may prefer to add users more familiar with a resource as collaborators to enter metadata and help maintain a resource. </p>
          <p><strong>Editor:</strong> Editors can edit the resource and its metadata, as well as accessing the resource if private.</p>
          <p><strong>Viewer:</strong> Viewers can access the dataset if private, but not edit it.</p>
        </div>
        <div class="col col-md-9">
          <ul class="nav nav-pills nav-header">
            <li class="in-progress">
              <div class="tab-number"><span>1</span></div>
              Add<br/>Resource
            </li>
            <li class="incomplete">
              <div class="tab-number"><span>2</span></div>
              Data</br>Dictionary
            </li>
            <li class="incomplete">
              <div class="tab-number"><span>3</span></div>
              Spatial</br>Information
            </li>
            <li class="incomplete">
              <div class="tab-number"><span>4</span></div>
              Description</br>Information
            </li>
            <li class="incomplete">
              <div class="tab-number"><span>5</span></div>
                Quality & Usage Information
            </li>
            <li class="incomplete">
              <div class="tab-number"><span>6</span></div>
              Additional</br>Information
            </li>
          </ul>
          <h4>Add Resource</h4>
          <form action="./two.html">
            <fieldset>
              <div class="row">
                <div class="col col-md-12">
                  <label class="control-label" for="field-title">Title</label>
                  <div class="controls">
                    <input name="field-title" type="text" class="form-control" placeholder="" />
                    <div class="url-slug">
                      * URL: txwaterdatahub.org/dataset/<span class="editable">&lt;dataset-id&gt;</span> <input type="button" value="Edit"/>
                    </div>
                    <div class="field-instruction">
                      A clear and descriptive title to represent the data
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col col-md-12">
                  <button onclick="return false;" data-toggle="modal" data-target="#add-collaborators-modal" class="btn btn-tertiary active"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;&nbsp;Add Collaborators</button>
                </div>
              </div>
              <div class="row">
                <div class="col col-md-12">
                  <label class="control-label" for="field-collaborators">Collaborators</label>
                  <table class="collaborator-table">
                    <tbody>
                      <tr>
                        <th>User</th>
                        <th>Role</th>
                      </tr>
                      <tr>
                        <td>Rebecca Storms</td>
                        <td>Editor
                          <div class="collaborator-controls">
                            <button onclick="return false;" class=""><i class="fa fa-wrench" aria-hidden="true"></i></button>
                            <button onclick="return false;" class="warning"><i class="fa fa-close" aria-hidden="true"></i></button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                </div>
              </div>
              <div class="row">
                <div class="col col-md-12">
                  <label class="control-label" for="field-resource-type">Resource Type</label>
                  <div class="controls">
                    <select name="field-resource-type" type="text" class="form-control">
                      <option value=""></option>
                      <option value="api">API</option>
                      <option value="interactive-map">Interactive Map</option>
                      <option value="sensor">Sensor</option>
                    </select>
                    <div class="field-instruction">
                      Type of resource being added
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col col-md-12">
                  <label class="control-label" for="field-resource-type">Add Resource</label>
                  <ul class="nav nav-tabs" id="add-resource-tabs" role="tablist">
                    <li role="presentation"><a href="#link" class="btn btn-secondary btn-narrow"><i class="fa fa-link" aria-hidden="true"></i> Link</a></li>
                    <li role="presentation"><a href="#upload" class="btn btn-secondary btn-narrow"><i class="fa fa-upload" aria-hidden="true"></i> Upload</a></li>
                  </ul>
                  <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="blank"></div>
                    <div role="tabpanel" class="tab-pane" id="link">
                      <div class="row">
                        <div class="col col-md-12">
                          <label class="control-label" for="field-url">URL</label>
                          <div class="controls">
                            <input name="field-url" type="text" class="form-control" placeholder="" />
                            <div class="field-instruction">
                              Direct access or download link for data
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="upload">
                      <div class="row">
                        <div class="col col-md-12">
                          <label class="control-label" for="field-upload">Upload</label>
                          <div class="controls">
                            <input name="field-upload" type="file" class="form-control" placeholder="" />
                            <div class="field-instruction">
                              Local file to upload to the hub
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>
            <ul class="nav nav-pills nav-footer">
              <li><button class="btn btn-primary btn-disabled" onclick="return false;">Next <i class="fa fa-ban" aria-hidden="true"></i></button></li>
            </ul>
            <ul class="nav nav-pills nav-footer">
              <li><button type="submit" class="btn btn-primary">Next</button></li>
              <li><a href="./index.html" onclick="return confirm( 'Are you sure?' );">Save and exit</a></li>
            </ul>
          </form>
        </div>
      </div>

      <div id="add-collaborators-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="Add Collaborators">
        <div class="modal-dialog modal-med" role="document">
          <div class="modal-content">    
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body modal-center">
              <h2>Add Collaborators</h2>
              <p><i>Native CKAN 'Add Collaborators' form</i></p>
              <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>    
            </div>
            <div class="modal-footer">
            </div>
          </div>
        </div>
      </div>



      <div class="overview">
        <h3>Step 1: Add Resource</h3>
        <ul>
          <li>Details
            <ul>
              <li>&lt;dataset-id&gt; will update to urlified version of title once the title has been typed in</li>
              <li>'Add Collaborators' button will launch a modal window containing native CKAN 'Add Collaborators'</li>
              <li>URL & FILE fields display conditionally dependent on clicking one of the 'Add Resource' buttons</li>
            </ul>
          </li>
          <li>Questions
            <ul>
              <li>Do we allow the 'Upload' capability to non-sysadmins?</li>
              <li>Can we add collaborators on this page?</li>
            </ul>
          </li>
          <li>Validation Criteria
            <ul>
              <li>'Title' is a valid CKAN dataset title</li>
              <li>'URL slug' is a valid, unique dataset id</li>
              <li>'Resource Type' field selection is made</li>
              <li>'Add Resource' type ('upload' or 'link') chosen
                <ul>
                <li>If 'upload', local file selected</li>
                <li>If 'link', must be valid URL</li>
                </ul>
            </ul>
          </li>
          <li>Activity Stream
            <ul>
            <li>'Title' change</li>
            <li>'URL slug' change</li>
            <li>'Collaborator' add/remove</li>
            <li>'Resource Type' change</li>
            <li>New resource file uploaded</li>
            <li>Resource link changed</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../js/bootstrap.js"></script>
    <!-- TWDH Javascript -->
    <script src="../js/twdh.js"></script>
  </body>
</html>

